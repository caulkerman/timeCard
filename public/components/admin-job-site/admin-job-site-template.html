<link rel="stylesheet" href="components/admin-job-site/admin-job-site.css">

<p><span id="jobSiteNameBold">{{jobsite.name}}<span></p>
<p>General Contractor: {{jobsite.contractor}}</p>
<p>Total Job Site Man Hours: {{jobsite.man_hours}}</p>
<h1>This page is going to be rebuilt!</h1>

<!--<button ng-click="showAddTime()" ng-hide="showNewTimeEvent">Add Late Time Employee Time</button>-->
<!--<button ng-click="hideAddTime()" ng-show="showNewTimeEvent">Hide Late Employee Time</button>-->
<button>This Job Site Is Completed</button>
<br />
<br />
<button ng-click="showUpdateForm()" ng-hide="showUpdateJobSite">Update Jobsite Details</button>
<button ng-click="hideUpdateForm()" ng-show="showUpdateJobSite">Hide Jobsite Details</button>

<form ng-show="showUpdateJobSite" ng-submit="updateTheJobSite(jobsite.contractor, jobsite.job_address, jobsite.job_details, jobsite.materials_needed, jobsite.name, jobsite.superintendent_name, jobsite.superintendent_telephone)">
    
    <div >
        <label for="contractor">Contractor: </label>
        <input type="text" class="updateJobSite" ng-model="jobsite.contractor" name="contractor">
    </div>

    <div>
        <label for="job_address">Job Address: </label>
        <input type="text" class="updateJobSite" ng-model="jobsite.job_address" name="job_address">
    </div>

    <div>
        <label for="job_details">Job Details: </label>
        <textarea class="updateJobSite" ng-model="jobsite.job_details" name="job_details"></textarea>
    </div>

    <div>
        <label for="materials_needed">Materials Needed: </label>
        <textarea class="updateJobSite" ng-model="jobsite.materials_needed" name="materials_needed"></textarea>
    </div>

    <div>
        <label for="name">Job Name: </label>
        <input type="text" class="updateJobSite" ng-model="jobsite.name" name="name">
    </div>

    <div>
        <label for="superintendent_name">Superintendent Name: </label>
        <input type="text" class="updateJobSite" ng-model="jobsite.superintendent_name" name="superintendent_name">
    </div>

    <div>
        <label for="superintendent_telephone">Superintendant Telephone: </label>
        <input type="number" class="updateJobSite" ng-model="jobsite.superintendent_telephone" name="superintendent_telephone">
    </div>

    <input type="submit" class="updateJobSite" value="Update Jobsite">
</form>
<!--<table st-table="students" class="table table-striped">-->
    <!--<thead>
        <tr>
            <td>Date Worked</td>
            <td>Employee Name</td>
            <td>Hours Worked</td>    
        </tr>
    </thead>-->
    
    <!--<tbody>  You need to set up a spot to show whether the job time is T&M, maybe use hide/show if it is.-->
        <!--<tr ng-show="showNewTimeEvent">
            <td><input type="text" placeholder="Add Date" ng-model="addDate"></td>
            <td><input type="text" placeholder="Add Name" ng-model="addName"></td>
            <td><input type="number" min=".25" max="24" placeholder="Hours Worked" ng-model="addHours"></td>
            <td><button ng-click="addLateEmmployeeTime(addDate, addName, addHours)">Add</td>
        </tr>-->
    <input type="text" placeholder="Filter the Dates">
    <div ng-repeat="timecard in dailyTCs track by $index"> 
        <ul > <!--maybe filter by date and name -->
            <li>
                <a id="timeCard" href="">{{timecard.theDate}}</a>
                <div class="hidden-daily-time-card"> <!--there will be a ng-show here-->
                    <p>Materials Used: {{timecard.materials_used}}</p>
                    <p>Notes: {{timecard.notes}}</p>
                    
                    <table st-table="students" class="table table-striped">
                        <thead>
                            <tr>
                                <td>Employee Name</td>
                                <td>Hours Worked</td>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="employees in dailyTCs[$index].employees_worked track by $index" > <!--make sure to ng-repeat this -->
                                <td>{{employees.employeeName}}</td>
                                <td>{{employees.hours_worked}}</td>
                            </tr>
                        </tbody>
                    </table>
                
                </div>
            </li>

            <!--<td>{{employee.date_worked}}</td>-->
            <!--<td>{{employee.employeeName}}</td>-->
            <!--<td>{{employee.hoursWorked}}</td>-->
            <!--<td> <input type="text" class="edit" ng-model="employee.hours_worked"></td>-->
            <!--<td><button ng-click="editEmployee(employee.hours_worked, employee._id, $index)" id="edit">Edit</button></td>-->
        </ul>

        <div rw-table ></div>
    </div>
    
    <!--</tbody>-->
<!--</table>-->



<link rel="stylesheet" href="components/admin-the-employee/admin-the-employee.css">

<div class="the-employee-container-div">
    <div ng-hide="ctrl.finalFarewell">

    <h2>{{ctrl.employeeName}}</h2>

        <div>
            <p>The Employee's User Name: <span>{{ctrl.theEmployee.userName}}{{ctrl.theEmployee.email}}</span></p> 
         <!--make sure you take off the in-line styling-->
            <p>The Employee's Current Password: <span>{{ctrl.theEmployee.password}}</span></p>
            <p>The Employee's Type: <span>{{ctrl.theEmployee.employeeType}}</span></p>
            <button ng-click="ctrl.retireEmployee()">Retire the Employee</button>
        </div>

        <div>
            <input type="text" ng-model="dateFilter" placeholder="Search For Dates" class="input">
        </div>
        <div>
            <table st-table="students" class="table table-striped">
                <thead>
                    <tr>
                        <td>Date</td>
                        <td>Hours This Week: {{ctrl.hrs_this_week}}</td>
                        <td>Job Site</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="hours in ctrl.add_this_week_hrs | filter: {date_worked:dateFilter} track by $index">
                        <td>{{hours.date_worked}}</td>
                        <td>{{hours.hours_worked}}</td>
                        <td ng-hide="ctrl.noJobSite1[$index]"><a href="" ng-click="ctrl.goToJobSite(hours.job_site, $index)">{{hours.job_site}}</a><span ng-show="hours.TandM">  T &amp M</span></td>
                        <td ng-show="ctrl.noJobSite1[$index]" class="rw-warning">Oops! This job site has been completed and is now inactive.</td>
                    </tr>
                </tbody>
            </table>
        </div>
                <!-- You know? You would save a lot of trouble if you would just get away from these tables. then you wouldn't be stuck inside of all of these <td>'s and stuff making it so your info doesn't show up.-->
        <div ng-repeat="week in ctrl.weeksArray | filter: {date_worked:dateFilter} track by $index">
            <!-- <hr> -->
            <table st-table="students" class="table table-striped">
                <thead>
                    <tr>
                        <td>Week</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="day in week | filter: {date_worked:dateFilter} track by $index">
                        <td>{{day.date_worked}}</td>
                        <td>{{day.hours_worked}}</td>
                        <td ng-hide="ctrl.noJobSite[$parent.$index][$index]"><a href="" ng-click="ctrl.goToJobSite(day.job_site, $index, $parent.$index)">{{day.job_site}}</a><span ng-show="day.TandM">  T &amp M</span></td>
                        <!-- need to make sure that the ng-show works with $index and/or $parent.$index so the warning shows up for just that link clicked when job site is completed. -->
                        <td ng-show="ctrl.noJobSite[$parent.$index][$index]" class="rw-warning">Oops! This job site has been completed and is now inactive.</td>
                       <td>{{day.hours}}</td>
                    </tr>
                   
                </tbody>
            </table>
        </div>
        <br />
        <br />
    </div>

    <div ng-show="ctrl.finalFarewell">
        <p>The {{ctrl.employeeName}} employee has just been retired.</p>
        <!-- <p>{{ctrl.employeeName}} has been retired to the Old Employees page.</p> -->
    </div>
</div>
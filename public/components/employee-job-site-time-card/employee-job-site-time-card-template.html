<link rel="stylesheet" href="components/employee-job-site-time-card/employee-job-site-time-card.css">

<p class="date">{{theDate}}</p>

<span id="jobSiteName">{{jobsite.name}}</span> 
<p>Contractor:  {{jobsite.contractor}}
<br />
<br />

            <!--With these text areas you need to make a hide/show that shows a success note saying that the note or materials has been saved to the database successfully that dissapears after 2 or 3 seconds-->


<div class="jobDetails">
    <button ng-click="showJobDetails()" ng-hide="jobDetails">Show Job Details</button>
    <button ng-click="hideJobDetails()" ng-show="jobDetails">Hide Job Details</button>

    <button ng-click="ctrl.timeAndMaterialOptions()" ng-hide="timeCardCreated">Create a New Time Card</button>

    <div class="tAndmOptions" ng-show="ctrl.showtAndmOptions">
        <p>Is this a Time And Material Time Card?</p>
        <button ng-click="ctrl.tAndmYes()">Yes</button>
        <button ng-click="ctrl.tAndmNo()">No</button>
    </div>

    <div ng-show="timeCardAlreadyExists" class="warning">
        <p>Oops! A regular time card already exists for this day. A new time card will not be created.</p>
    </div>


<div class="jobDetails" ng-show="jobDetails">
        <div>
            <label>Total Jobsite Man Hours Worked: </label><span> {{totalJobSiteHours}}
        <div>
            <label>Job Name: </label><span> {{jobsite. name}}</span>
        </div>
        
        <div>
            <label>Contractor: </label><span> {{jobsite.contractor}}</span>
        </div>
        
        <div>
            <label>Superintendent Name: </label><span> {{jobsite.superintendent_name}}</span>
        </div>
        
        <div>
            <label>Superintendent Telephone: </label><span> {{jobsite.superintendent_telephone}}</span>
        </div>
        
        <div>
            <label>Job Address: </label><span> {{jobsite.job_address}}</span>
        </div>
        
        <div>
            <label>Job Contract Details: </label><span> {{jobsite.job_details}}</span>
        </div>
        
        <div>
            <label>Materials Needed: </label><span> {{jobsite.materials_needed}}</span>
        </div>
    </div>
</div>
<br />

<!--<button class="addPhotos">Add Photos</button>-->

<div name="employeesDiv" ng-show="timeCardCreated">

    <p ng-show="needMaterials" class="warning">Oops! You must enter the materials used for today before submitting time for employees</p>

    <div class="notesAndMaterials">
        <button ng-click="hideTextBox()" ng-show="textAreaShow">Close</button>
        <button ng-click="showTextArea()" ng-hide="textAreaShow" >Materials Used</button>
        <br />

        <div id="textArea" ng-show="textAreaShow">
            <textarea ng-model="materials"></textarea>
            <button ng-click="addMaterials(materials)">Add</button>
        </div>
    </div>
    <br />

    <div class="notesAndMaterials">
        <button ng-click="hideNoteTextBox()" ng-show="noteShow">Close</button>
        <button ng-click="showNoteTextBox()" ng-hide="noteShow">Make a Note</button>

        <div id="noteTextArea" ng-show="noteShow">
            <textarea ng-model="notes"></textarea>
            <button ng-click="addNote(notes)">Add</button>
        </div>
    </div>
    <br />

    <label for="employeeFilter">Filter Employee: </label>

    <input type="text" name="employeeFilter" ng-model="employee_filter">

    <table st-table="students" class="table table-striped">
        <thead>
            <tr>
                <td>Employee</td>
                <td>Hours Worked</td>
            </tr>
        </thead>
        <br />
        <tbody>       
            <tr ng-repeat="employee in employees | filter: {fullName:employee_filter} track by $index">
            
                <td >
                    {{employee.fullName}}
                </td>
                <td>
                    <input type="number" ng-model="hoursWorked" min=".25" max="24" ng-hide="needTime[$index]">
                    <p class="warning" ng-show="needTime[$index]">Oops! You forgot to add time!</p>
                </td>
                <td>
                    <button ng-click="addEmployeeTime(employee.fullName, hoursWorked, $index)">SUBMIT TIME</button>
                    <!-- Maybe the submit button will change color when the person has been submitted. But I think this should be linked to the success of the update, so... if (response.status === 200) { turn the button green};-->
                </td>
            </tr>
        </tbody>
    </table

</div>

<!--BELOW THIS IS THE EXPERIMENT WITH CSS TABLE STUFF
<style>
DIV.table 
{
    display:table;
}
FORM.tr, DIV.tr
{
    display:table-row;
}
SPAN.td
{
    display:table-cell;
}
</style>
...
<div class="table">
    <form class="tr" method="post" action="blah.html">
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        </form>
        <form class="tr" method="post" action="blah.html">
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        </form>
        <form class="tr" method="post" action="blah.html">
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        </form>
        <form class="tr" method="post" action="blah.html">
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
        <span class="td"><input type="text"/></span>
    </form>
    <div class="tr">
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        </div>
        <div class="tr">
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        </div>
        <div class="tr">
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        </div>
        <div class="tr">
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
        <span class="td">(cell data)</span>
    </div>-->
